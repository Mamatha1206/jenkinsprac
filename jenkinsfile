pipeline {
  agent any

  stages {

    stage("Checkout") {
      steps {
        git url: "https://github.com/Mamatha1206/jenkinsprac", branch: "main"
      }
    }

    stage("Install Tools") {
      steps {
        sh '''
          apt update
          apt install -y python3 python3-venv
          apt install -y openjdk-17-jdk maven
          apt install -y docker.io 
        '''
      }
    }

    stage("Docker Build") {
      steps {
        sh 'docker build -t hello-jenkins .'
      }
    }

    stage("Run Container") {
      steps {
        sh 'docker run hello-jenkins'
      }
    }

    stage("Status") {
      steps {
        echo "Pipeline completed successfully"
      }
    }

  }
}
